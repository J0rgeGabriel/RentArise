<div class="profile-container">
  <!-- Visualização principal do perfil -->
  <div *ngIf="!isEditing" class="profile-view">
    <h1>Perfil do Usuário</h1>

    <div class="user-profile-display">
      <img *ngIf="selectedIcon" [src]="selectedIcon.url" alt="Ícone do usuário" class="selected-profile-icon">
      <span class="user-name">{{ userName }}</span>
    </div>

    <!-- TODO: Adicione aqui o restante das informações do perfil que sumiram -->
    <div class="other-profile-info">
        <p>Email: {{ authService.currentUser?.email }}</p>
        <p>Nome Completo: {{ authService.currentUser?.fullname }}</p>
        <p>Nome de Usuário: {{ authService.currentUser?.username }}</p>
        <!-- Adicione mais campos conforme necessário, acessando authService.currentUser -->
    </div>

    <button class="edit-button" (click)="startEditing()">Editar Ícone</button>

  </div>

  <!-- Seção de edição de ícones (mostrada somente em modo de edição) -->
  <div *ngIf="isEditing" class="profile-edit">
    <h1>Escolha o ícone do seu perfil</h1>

    <!-- Área para exibir o ícone selecionado durante a edição -->
    <div class="user-profile-display">
      <img *ngIf="editingIcon" [src]="editingIcon.url" alt="Ícone selecionado para edição" class="selected-profile-icon">
      <span class="user-name">Para {{ userName }}</span>
    </div>

    <h2>Os clássicos</h2>

    <!-- Área para exibir a lista de ícones disponíveis -->
    <div class="available-icons-grid">
      <img *ngFor="let icon of availableIcons"
           [src]="icon.url"
           alt="Ícone disponível {{ icon.id }}"
           class="profile-icon-option"
           [class.selected]="!!editingIcon && icon.id === editingIcon.id"
           (click)="selectEditingIcon(icon)">
    </div>

    <!-- Botões de Salvar e Cancelar -->
    <div class="edit-actions">
      <button class="save-button" (click)="saveIcon()">Salvar</button>
      <button class="cancel-button" (click)="cancelEditing()">Cancelar</button>
    </div>
  </div>
</div>